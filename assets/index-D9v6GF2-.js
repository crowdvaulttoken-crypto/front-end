import{a as t,e as oe,j as e,B as x,C as $}from"./index-BEF_KIxg.js";import{P as ce}from"./Page-BXjP-X0h.js";import{u as ie}from"./useSmartContract-BwA5v_mV.js";import{C as de}from"./ConfirmModal-Ck0c-9IO.js";import{F as me}from"./ChartBarIcon--JHdy6Ak.js";import{F as ue}from"./ExclamationTriangleIcon-HdgY9kX5.js";import"./transition-DOap-j-x.js";import"./dialog-7jNBE6pl.js";function xe({title:s,titleId:r,...p},u){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:u,"aria-labelledby":r},p),s?t.createElement("title",{id:r},s):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 18.75 7.5-7.5 7.5 7.5"}),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 7.5-7.5 7.5 7.5"}))}const pe=t.forwardRef(xe);function fe({title:s,titleId:r,...p},u){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:u,"aria-labelledby":r},p),s?t.createElement("title",{id:r},s):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 16.153 16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125"}))}const we=t.forwardRef(fe);function he({title:s,titleId:r,...p},u){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:u,"aria-labelledby":r},p),s?t.createElement("title",{id:r},s):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const A=t.forwardRef(he);function De(){const{address:s,bnbBalance:r,usdtBalance:p,walletData:u,affiliateData:V,CrowdVaultContract:f,activateVIP:L}=ie(),g=Math.floor(Date.now()/1e3),[l,P]=t.useState({amount:10,cap:0,coolDown:g}),[n,z]=t.useState({amount:50,cap:150,coolDown:g}),[d,T]=t.useState({amount:100,cap:300,coolDown:g}),[E,O]=t.useState(!1),[h,U]=t.useState((parseInt(l.amount)*3-parseInt(l.cap)/parseInt(l.amount)*3)*10),[F,N]=t.useState(()=>Math.floor(Date.now()/1e3)-parseInt(l.coolDown)),[G,W]=t.useState(0),[v,q]=t.useState((parseInt(n.amount)*3-parseInt(n.cap)/parseInt(n.amount)*3)*10),[M,y]=t.useState(()=>Math.floor(Date.now()/1e3)-parseInt(n.coolDown)),[H,Y]=t.useState(0),[j,Z]=t.useState((parseInt(d.amount)*3-parseInt(d.cap)/parseInt(d.amount)*3)*10),[J,I]=t.useState(()=>Math.floor(Date.now()/1e3)-parseInt(d.coolDown)),[K,Q]=t.useState(0);t.useEffect(()=>{const a=async()=>{if(s!="0x0000000000000000000000000000000000000000"&&f){O(!0);const m=Math.floor(Date.now()/1e3),o=await f.getVaultData(s,0);console.log(`v0: ${o}`),P(o),N(o.coolDown),U((parseInt(o.amount)*3-parseInt(o.cap))/parseInt(o.amount)*3),W(parseInt((m-parseInt(o.coolDown))/86400)*parseInt(o.amount)*.02);const c=await f.getVaultData(s,1);console.log(`v1: ${c}`),z(c),y(c.coolDown),q((parseInt(c.amount)*3-parseInt(c.cap))/parseInt(c.amount)*3),Y(parseInt((m-parseInt(c.coolDown))/86400)*parseInt(c.amount)*.02);const i=await f.getVaultData(s,2);console.log(`v2: ${i}`),T(i),I(i.coolDown),Z((parseInt(i.amount)*3-parseInt(i.cap))/parseInt(i.amount)*3),Q(parseInt((m-parseInt(i.coolDown))/86400)*parseInt(i.amount)*.02)}};return E==!1&&a(),()=>{}},[s,f,E]);const[X,{open:C,close:_}]=oe(!1),[ee,D]=t.useState(!1),[te,b]=t.useState(!1),[se,w]=t.useState(!1),[B,k]=t.useState(!1),[ae,R]=t.useState(""),re=se?"error":te?"success":"pending",le={pending:{Icon:ue,title:"Withdrawal Request",description:"Click ok to confirm request.",actionText:"Ok"},success:{title:"Request Processing",description:"Thank You."},error:{description:`${ae}`}},ne=async()=>{D(!0);var a=!1;B=="activate"&&(a=await L(),a||R("Transfer Failed")),B=="collect"&&R("No Ready to collect Failed"),a==!0?(D(!1),b(!0),w(!1)):(D(!1),w(!0))};t.useEffect(()=>{const a=setInterval(()=>{const m=Math.floor(Date.now()/1e3);parseInt(l.coolDown)>0?N(m-parseInt(l.coolDown)):N(0),parseInt(n.coolDown)>0?y(m-parseInt(n.coolDown)):y(0),parseInt(d.coolDown)>0?I(m-parseInt(d.coolDown)):I(0)},1e3);return()=>clearInterval(a)},[l,n,d]);const S=a=>{const m=Math.floor(a/86400),o=Math.floor(a%86400/3600),c=Math.floor(a%3600/60),i=a%60;return`${m}:${String(o).padStart(2,"0")}:${String(c).padStart(2,"0")}:${String(i).padStart(2,"0")}`};return e.jsxs(ce,{title:"Home",children:[e.jsxs("div",{className:"transition-content w-full px-(--margin-x) pt-5 lg:pt-6",children:[e.jsxs("div",{className:"flex flex-wrap justify-start gap-0",children:[e.jsx("div",{className:"px-4 pb-4 pt-5 text-center w-full md:w-1/1 lg:w-1/5",children:e.jsxs("div",{className:"relative break-words print:border card rounded-lg border border-gray-200 dark:border-dark-600 print:border-0 p-4 sm:p-5",children:[e.jsx("div",{className:"flex flex-wrap justify-start mb-10",children:e.jsx(x,{color:"primary",isGlow:!0,isIcon:!0,className:"size-12",children:e.jsx(pe,{className:"size-9"})})}),e.jsx("div",{className:"flex flex-wrap justify-start text-sm",children:e.jsx("h3",{children:"Current VIP"})}),e.jsx("div",{className:"flex flex-wrap justify-start text-lg",children:V.level>0?parseInt(V.level)-1:"User"})]})}),e.jsx("div",{className:"px-4 pb-4 pt-5 text-center w-full md:w-1/2 lg:w-1/5",children:e.jsxs("div",{className:"relative break-words print:border card rounded-lg border border-gray-200 dark:border-dark-600 print:border-0 p-4 sm:p-5",children:[e.jsx("div",{className:"flex flex-wrap justify-start mb-10",children:e.jsx(x,{color:"primary",isGlow:!0,isIcon:!0,className:"size-12",children:e.jsx(A,{className:"size-9"})})}),e.jsx("div",{className:"flex flex-wrap justify-start text-sm",children:e.jsx("h3",{children:"BNB Balance"})}),e.jsxs("div",{className:"flex flex-wrap justify-start text-lg",children:["$",parseFloat(r).toFixed(3)]})]})}),e.jsx("div",{className:"px-4 pb-4 pt-5 text-center w-full md:w-1/2 lg:w-1/5",children:e.jsxs("div",{className:"relative break-words print:border card rounded-lg border border-gray-200 dark:border-dark-600 print:border-0 p-4 sm:p-5",children:[e.jsx("div",{className:"flex flex-wrap justify-start mb-10",children:e.jsx(x,{color:"primary",isGlow:!0,isIcon:!0,className:"size-12",children:e.jsx(we,{className:"size-9"})})}),e.jsx("div",{className:"flex flex-wrap justify-start text-sm",children:e.jsx("h3",{children:"USDT Balance"})}),e.jsxs("div",{className:"flex flex-wrap justify-start text-lg",children:["$",parseFloat(p).toFixed(3)]})]})}),e.jsx("div",{className:"px-4 pb-4 pt-5 text-center w-full md:w-1/2 lg:w-1/5",children:e.jsxs("div",{className:"relative break-words print:border card rounded-lg border border-gray-200 dark:border-dark-600 print:border-0 p-4 sm:p-5",children:[e.jsx("div",{className:"flex flex-wrap justify-start mb-10",children:e.jsx(x,{color:"primary",isGlow:!0,isIcon:!0,className:"size-12",children:e.jsx(A,{className:"size-9"})})}),e.jsx("div",{className:"flex flex-wrap justify-start text-sm",children:e.jsx("h3",{children:"Available Balance"})}),e.jsxs("div",{className:"flex flex-wrap justify-start text-lg",children:["$",parseFloat(u.balance).toFixed(3)]})]})}),e.jsx("div",{className:"px-4 pb-4 pt-5 text-center w-full md:w-1/2 lg:w-1/5",children:e.jsxs("div",{className:"relative break-words print:border card rounded-lg border border-gray-200 dark:border-dark-600 print:border-0 p-4 sm:p-5",children:[e.jsx("div",{className:"flex flex-wrap justify-start mb-10",children:e.jsx(x,{color:"primary",isGlow:!0,isIcon:!0,className:"size-12",children:e.jsx(me,{className:"size-9"})})}),e.jsx("div",{className:"flex flex-wrap justify-start text-sm",children:e.jsx("h3",{children:"Total Income"})}),e.jsxs("div",{className:"flex flex-wrap justify-start text-lg",children:["$",parseFloat(u.totalIncome).toFixed(3)]})]})})]}),e.jsxs("div",{className:"flex flex-wrap justify-start gap-0",children:[e.jsx("div",{className:"px-4 pb-4 pt-5 text-center w-full md:w-1/2 lg:w-1/3",children:e.jsxs("div",{className:"rounded-lg bg-gradient-to-br from-primary-600 to-primary-900 px-4 pb-4 pt-5 text-center ",children:[e.jsxs("div",{className:"mx-8 flex gap-2 justify-between",children:[e.jsxs("div",{className:"text-md uppercase text-white text-start",children:[e.jsx("div",{className:"truncate font-medium text-sm",children:"Capping"}),e.jsxs("div",{className:"truncate font-medium text-lg mb-1",children:["$",l.cap]}),e.jsx("div",{className:"truncate font-medium text-sm",children:"Available"}),e.jsxs("div",{className:"truncate font-medium text-lg mb-1",children:["$",G]}),e.jsx("div",{className:"truncate font-medium text-sm",children:"CoolDown"}),e.jsx("div",{className:"truncate font-medium text-lg",children:S(parseInt(F))})]}),e.jsx($,{color:"secondary",value:100-(isNaN(h)?0:h),isActive:!0,children:e.jsxs("span",{className:"text-lg font-medium text-white",children:[isNaN(h)?0:h,"%"]})})]}),e.jsx(x,{onClick:()=>{k(l.amount==0?"activate":"collect"),b(!1),w(!1),C()},unstyled:!0,className:"mt-5 w-full rounded-lg border border-white/10 bg-white/20 py-2 text-white hover:bg-white/30 focus:bg-white/30",children:l.amount==0?"Activate 10 USDT":"Collect"})]})}),e.jsx("div",{className:F>0?"px-4 pb-4 pt-5 text-center w-full md:w-1/2 lg:w-1/3":"hidden",children:e.jsxs("div",{className:"rounded-lg bg-gradient-to-br from-primary-600 to-primary-900 px-4 pb-4 pt-5 text-center ",children:[e.jsxs("div",{className:"mx-8 flex gap-2 justify-between",children:[e.jsxs("div",{className:"text-md uppercase text-white text-start",children:[e.jsx("div",{className:"truncate font-medium text-sm",children:"Capping"}),e.jsxs("div",{className:"truncate font-medium text-lg mb-1",children:["$",n.cap]}),e.jsx("div",{className:"truncate font-medium text-sm",children:"Available"}),e.jsxs("div",{className:"truncate font-medium text-lg mb-1",children:["$",H]}),e.jsx("div",{className:"truncate font-medium text-sm",children:"CoolDown"}),e.jsx("div",{className:"truncate font-medium text-lg",children:S(parseInt(M))})]}),e.jsx($,{color:"secondary",value:100-(isNaN(v)?0:v),isActive:!0,children:e.jsxs("span",{className:"text-lg font-medium text-white",children:[isNaN(v)?0:v,"%"]})})]}),e.jsx(x,{onClick:()=>{k(n.amount==0?"activate":"collect"),b(!1),w(!1),C()},unstyled:!0,className:"mt-5 w-full rounded-lg border border-white/10 bg-white/20 py-2 text-white hover:bg-white/30 focus:bg-white/30",children:n.amount==0?"Activate 50 USDT":"Collect"})]})}),e.jsx("div",{className:M>0?"px-4 pb-4 pt-5 text-center w-full md:w-1/2 lg:w-1/3":"hidden",children:e.jsxs("div",{className:"rounded-lg bg-gradient-to-br from-primary-600 to-primary-900 px-4 pb-4 pt-5 text-center ",children:[e.jsxs("div",{className:"mx-8 flex gap-2 justify-between",children:[e.jsxs("div",{className:"text-md uppercase text-white text-start",children:[e.jsx("div",{className:"truncate font-medium text-sm",children:"Cappings"}),e.jsxs("div",{className:"truncate font-medium text-lg mb-1",children:["$",300]}),e.jsx("div",{className:"truncate font-medium text-sm",children:"Available"}),e.jsxs("div",{className:"truncate font-medium text-lg mb-1",children:["$",K]}),e.jsx("div",{className:"truncate font-medium text-sm",children:"CoolDown"}),e.jsx("div",{className:"truncate font-medium text-lg",children:S(parseInt(J))})]}),e.jsx($,{color:"secondary",value:100-(isNaN(j)?0:j),isActive:!0,children:e.jsxs("span",{className:"text-lg font-medium text-white",children:[isNaN(j)?0:j,"%"]})})]}),e.jsx(x,{onClick:()=>{k(d.amount==0?"activate":"collect"),b(!1),w(!1),C()},unstyled:!0,className:"mt-5 w-full rounded-lg border border-white/10 bg-white/20 py-2 text-white hover:bg-white/30 focus:bg-white/30",children:d.amount==0?"Activate 100 USDT":"Collect"})]})})]})]}),e.jsx(de,{show:X,onClose:_,messages:le,onOk:ne,confirmLoading:ee,state:re})]})}export{De as Home};
