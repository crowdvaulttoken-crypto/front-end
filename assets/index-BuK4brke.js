import{a as t,f as j,e as A,j as e,B as n}from"./index-CF4YOnZg.js";import{P as G}from"./Page-BQBszm3j.js";import{u as U}from"./useSmartContract-BMJ0nNp7.js";import{C as O}from"./ConfirmModal-DOoZlJIk.js";import{G as k}from"./iconBase-kqlDd1Td.js";import{F as q}from"./XMarkIcon-DiCV0zT3.js";import{F as P}from"./ExclamationTriangleIcon-DQdAqCal.js";import{K as V}from"./transition-c-T-Rg2Q.js";import"./dialog-G65O73AO.js";function Z({title:s,titleId:d,...f},a){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":d},f),s?t.createElement("title",{id:d},s):null,t.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}const _=t.forwardRef(Z);function K(s){return k({attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M6 14.5c0 0.828-0.672 1.5-1.5 1.5s-1.5-0.672-1.5-1.5c0-0.828 0.672-1.5 1.5-1.5s1.5 0.672 1.5 1.5z"},child:[]},{tag:"path",attr:{d:"M16 14.5c0 0.828-0.672 1.5-1.5 1.5s-1.5-0.672-1.5-1.5c0-0.828 0.672-1.5 1.5-1.5s1.5 0.672 1.5 1.5z"},child:[]},{tag:"path",attr:{d:"M16 8v-6h-12c0-0.552-0.448-1-1-1h-3v1h2l0.751 6.438c-0.458 0.367-0.751 0.93-0.751 1.562 0 1.105 0.895 2 2 2h12v-1h-12c-0.552 0-1-0.448-1-1 0-0.003 0-0.007 0-0.010l13-1.99z"},child:[]}]})(s)}function Y(s){return k({attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M15 5h-3v-1.5c0-1.381-2.686-2.5-6-2.5s-6 1.119-6 2.5v10c0 1.381 2.686 2.5 6 2.5s6-1.119 6-2.5v-1.5h3c0.552 0 1-0.448 1-1v-5c0-0.552-0.448-1-1-1zM2.751 4.037c-0.578-0.19-0.928-0.394-1.116-0.537 0.188-0.143 0.538-0.347 1.116-0.537 0.905-0.298 2.059-0.463 3.249-0.463s2.344 0.164 3.249 0.463c0.578 0.19 0.928 0.394 1.116 0.537-0.188 0.143-0.538 0.347-1.116 0.537-0.905 0.298-2.059 0.463-3.249 0.463s-2.344-0.164-3.249-0.463zM14 10h-2v-3h2v3z"},child:[]}]})(s)}function le(){const[s,d]=j(!0),f=A(),{walletData:a,withdraw:N,CrowdVaultContract:g}=U(),[o,m]=t.useState(0),[y,{open:h,close:b}]=j(!1),[C,v]=t.useState(!1),[S,c]=t.useState(!1),[M,l]=t.useState(!1),[z,x]=t.useState(""),[W,p]=t.useState("Withdrawal Request"),w=parseInt(a.coolDown),[T,D]=t.useState(()=>Math.floor(Date.now()/1e3)-w),$=M?"error":S?"success":"pending",E={pending:{Icon:P,title:`${W}`,description:"Click ok to confirm request.",actionText:"Ok"},success:{title:"Request Processing",description:"Thank You."},error:{description:`${z}`}},I=async()=>{v(!0);var r=!1,i=Math.floor(Date.now()/1e3);parseInt(a.coolDown)+86400>i?x("24 hrs withdrawal cooldown!"):o<20||o>200?x(`Widrawal Range Error ${o}`):parseInt(a.balance)<o?x(`Not enough rewards balance ${parseInt(a.balance)}`):(r=await N(o),r||x("Transfer Failed")),r==!0?(v(!1),c(!0),l(!1),f("/dashboards")):(v(!1),l(!0))};t.useEffect(()=>{const r=setInterval(()=>{const i=Math.floor(Date.now()/1e3);D(i-w)},1e3);return()=>clearInterval(r)},[w]);const R=r=>{const i=Math.floor(r/86400),F=Math.floor(r%86400/3600),H=Math.floor(r%3600/60),L=r%60;return`${i}:${String(F).padStart(2,"0")}:${String(H).padStart(2,"0")}:${String(L).padStart(2,"0")}`},[u,B]=t.useState({totalUsers:0,totalAgents:0,contractBalance:0,_totalDeposits:0,_totalRewardsDistributed:0,_totalWithdrawals:0});return t.useEffect(()=>{const r=async()=>{const i=await g.getContractStats();B(i)};return g&&u.totalUsers==0&&r(),()=>{}},[g,u]),e.jsxs(G,{title:"Withdraw",children:[e.jsxs("div",{className:"transition-content w-full px-(--margin-x) pt-5 lg:pt-6",children:[u[2]!=null&&u[2]<20?e.jsx(V,{as:t.Fragment,show:s,leave:"duration-200 transition ease-in-out",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsxs("div",{role:"alert",className:"this:info flex items-center space-x-2 rounded-lg border border-this-darker p-4 text-this-darker dark:border-this-lighter dark:text-this-lighter ",children:[e.jsx(_,{className:"size-9"}),e.jsxs("span",{className:"flex-1",children:[e.jsx("strong",{children:"Announcement:"})," Insufficient Funds for Payout At this time, the available funds are no longer sufficient to support ongoing payouts. This situation has occurred because the overall community participation and support for the project have not reached the level required to sustain the system. We appreciate everyone who contributed and supported the project. Moving forward, stronger and more consistent community engagement is essential for long-term stability and growth."]}),e.jsx("div",{className:"contents",children:e.jsx(n,{onClick:d.close,color:"info",variant:"flat",className:"-mr-1 size-6 shrink-0 rounded-full p-0",children:e.jsx(q,{className:"size-4"})})})]})}):e.jsx(e.Fragment,{}),e.jsxs("div",{className:"py-5 text-center lg:py-6",children:[e.jsx("p",{className:"text-md uppercase",children:"Available Balance"}),e.jsxs("h3",{className:"mt-1 text-xl font-semibold text-gray-600 dark:text-dark-100",children:["$",parseInt(a.balance)]})]}),e.jsxs("div",{className:"mx-auto grid max-w-5xl grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4 sm:gap-5 lg:gap-6",children:[e.jsxs("div",{className:"relative break-words print:border card rounded-lg border border-gray-200 dark:border-dark-600 print:border-0 p-4 text-center sm:p-5",children:[e.jsx("div",{className:"mt-8",children:e.jsx(Y,{className:"inline size-16 text-primary-600 dark:text-primary-400"})}),e.jsx("div",{className:"mt-5",children:e.jsx("h4",{className:"text-xl font-semibold text-gray-600 dark:text-dark-100",children:"Basic"})}),e.jsx("div",{className:"mt-5",children:e.jsx("span",{className:"text-4xl tracking-tight text-primary-600 dark:text-primary-400",children:"$20"})}),e.jsx("div",{className:"mt-8 space-y-4 text-center",children:e.jsx(n,{color:"primary",onClick:()=>{m(20),p("20 USDT Withdrawal"),c(!1),l(!1),h()},isGlow:!0,className:"rounded-full ",children:"Withdraw"})})]}),e.jsxs("div",{className:"relative break-words print:border card rounded-lg border border-gray-200 dark:border-dark-600 print:border-0 p-4 text-center sm:p-5",children:[e.jsx("div",{className:"mt-8",children:e.jsx(K,{className:"inline size-16 text-primary-600 dark:text-primary-400"})}),e.jsx("div",{className:"mt-5",children:e.jsx("h4",{className:"text-xl font-semibold text-gray-600 dark:text-dark-100",children:"Needs"})}),e.jsx("div",{className:"mt-5",children:e.jsx("span",{className:"text-4xl tracking-tight text-primary-600 dark:text-primary-400",children:"$50"})}),e.jsx("div",{className:"mt-8 space-y-4 text-center",children:e.jsx(n,{color:"primary",onClick:()=>{m(50),p("50 USDT Withdrawal"),c(!1),l(!1),h()},isGlow:!0,className:"rounded-full ",children:"Withdraw"})})]}),e.jsxs("div",{className:"relative break-words print:border card rounded-lg border border-gray-200 dark:border-dark-600 print:border-0 p-4 text-center sm:p-5",children:[e.jsx("div",{className:"mt-8",children:e.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 576 512",className:"inline size-16 text-primary-600 dark:text-primary-400",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M480 192H365.71L260.61 8.06A16.014 16.014 0 0 0 246.71 0h-65.5c-10.63 0-18.3 10.17-15.38 20.39L214.86 192H112l-43.2-57.6c-3.02-4.03-7.77-6.4-12.8-6.4H16.01C5.6 128-2.04 137.78.49 147.88L32 256 .49 364.12C-2.04 374.22 5.6 384 16.01 384H56c5.04 0 9.78-2.37 12.8-6.4L112 320h102.86l-49.03 171.6c-2.92 10.22 4.75 20.4 15.38 20.4h65.5c5.74 0 11.04-3.08 13.89-8.06L365.71 320H480c35.35 0 96-28.65 96-64s-60.65-64-96-64z"})})}),e.jsx("div",{className:"mt-5",children:e.jsx("h4",{className:"text-xl font-semibold text-gray-600 dark:text-dark-100",children:"Wants"})}),e.jsx("div",{className:"mt-5",children:e.jsx("span",{className:"text-4xl tracking-tight text-primary-600 dark:text-primary-400",children:"$100"})}),e.jsx("div",{className:"mt-8 space-y-4 text-center",children:e.jsx(n,{color:"primary",onClick:()=>{m(100),p("100 USDT Withdrawal"),c(!1),l(!1),h()},isGlow:!0,className:"rounded-full ",children:"Withdraw"})})]}),e.jsxs("div",{className:"relative break-words print:border card rounded-lg border border-gray-200 dark:border-dark-600 print:border-0 p-4 text-center sm:p-5",children:[e.jsx("div",{className:"mt-8",children:e.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",className:"inline size-16 text-primary-600 dark:text-primary-400",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M499.99 176h-59.87l-16.64-41.6C406.38 91.63 365.57 64 319.5 64h-127c-46.06 0-86.88 27.63-103.99 70.4L71.87 176H12.01C4.2 176-1.53 183.34.37 190.91l6 24C7.7 220.25 12.5 224 18.01 224h20.07C24.65 235.73 16 252.78 16 272v48c0 16.12 6.16 30.67 16 41.93V416c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-32h256v32c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-54.07c9.84-11.25 16-25.8 16-41.93v-48c0-19.22-8.65-36.27-22.07-48H494c5.51 0 10.31-3.75 11.64-9.09l6-24c1.89-7.57-3.84-14.91-11.65-14.91zm-352.06-17.83c7.29-18.22 24.94-30.17 44.57-30.17h127c19.63 0 37.28 11.95 44.57 30.17L384 208H128l19.93-49.83zM96 319.8c-19.2 0-32-12.76-32-31.9S76.8 256 96 256s48 28.71 48 47.85-28.8 15.95-48 15.95zm320 0c-19.2 0-48 3.19-48-15.95S396.8 256 416 256s32 12.76 32 31.9-12.8 31.9-32 31.9z"})})}),e.jsx("div",{className:"mt-5",children:e.jsx("h4",{className:"text-xl font-semibold text-gray-600 dark:text-dark-100",children:"Dreams"})}),e.jsx("div",{className:"mt-5",children:e.jsx("span",{className:"text-4xl tracking-tight text-primary-600 dark:text-primary-400",children:"$200"})}),e.jsx("div",{className:"mt-8 space-y-4 text-center",children:e.jsx(n,{color:"primary",onClick:()=>{m(200),p("200 USDT Withdrawal"),c(!1),l(!1),h()},isGlow:!0,className:"rounded-full ",children:"Withdraw"})})]})]}),e.jsxs("div",{className:"py-5 text-center lg:py-6",children:[e.jsx("p",{className:"text-lg uppercase",children:"Cool Down"}),e.jsxs("p",{className:"text-xl uppercase",children:[" ",R(T)]})]})]}),e.jsx(O,{show:y,onClose:b,messages:E,onOk:I,confirmLoading:C,state:$})]})}export{le as default};
